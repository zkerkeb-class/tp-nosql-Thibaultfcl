<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©dex - D√©couvrez tous les Pok√©mon</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="logo">Pok√©dex</div>
            <div class="nav-links">
                <a href="#" onclick="showSection('pokedex')">Pok√©dex</a>
                <a href="#" onclick="showSection('favorites')" id="favoritesLink" style="display:none;">Mes Favoris</a>
                <a href="#" onclick="showSection('teams')" id="teamsLink" style="display:none;">Mes √âquipes</a>
                <a href="#" onclick="showSection('stats')">Statistiques</a>
                <div id="authButtons">
                    <button class="btn btn-secondary" onclick="showSection('login')">Connexion</button>
                    <button class="btn btn-primary" onclick="showSection('register')">S'inscrire</button>
                </div>
                <div id="userInfo" style="display:none;">
                    <span id="username"></span>
                    <button class="btn btn-secondary" onclick="logout()">D√©connexion</button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Pok√©dex Section -->
        <section id="pokedex" class="section active">
            <div class="search-section">
                <div class="search-bar">
                    <input type="text" class="search-input" id="searchInput" placeholder="Rechercher un Pok√©mon...">
                    <button class="btn btn-primary" onclick="searchPokemons()">Rechercher</button>
                </div>
                
                <div class="filters">
                    <div class="filter-group">
                        <label>Trier par</label>
                        <select class="filter-select" id="sortSelect" onchange="loadPokemons()">
                            <option value="id">Num√©ro</option>
                            <option value="name.english">Nom (A-Z)</option>
                            <option value="-base.HP">PV (d√©croissant)</option>
                            <option value="-base.Attack">Attaque (d√©croissant)</option>
                            <option value="-base.Defense">D√©fense (d√©croissant)</option>
                            <option value="-base.Speed">Vitesse (d√©croissant)</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Pok√©mon par page</label>
                        <select class="filter-select" id="limitSelect" onchange="loadPokemons()">
                            <option value="12">12</option>
                            <option value="24">24</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>

                <div style="margin-top: 1rem;">
                    <label style="font-weight: 600; margin-bottom: 0.5rem; display: block;">Filtrer par type</label>
                    <div class="type-filters" id="typeFilters"></div>
                </div>
            </div>

            <!-- Team selector (only visible when logged in) -->
            <div id="teamSelector" style="display:none;">
                <div>
                    <label>üë• Ajouter √† l'√©quipe :</label>
                    <select id="currentTeamSelect">
                        <option value="">-- Aucune √©quipe s√©lectionn√©e --</option>
                    </select>
                    <span id="teamPokemonCount"></span>
                </div>
            </div>

            <div class="pokemon-grid" id="pokemonGrid"></div>

            <div class="pagination">
                <button class="page-btn" id="prevBtn" onclick="prevPage()">‚Üê Pr√©c√©dent</button>
                <span class="page-info" id="pageInfo"></span>
                <button class="page-btn" id="nextBtn" onclick="nextPage()">Suivant ‚Üí</button>
            </div>
        </section>

        <!-- Login Section -->
        <section id="login" class="section">
            <div class="auth-form">
                <h2 style="margin-bottom: 1.5rem; text-align: center;">Connexion</h2>
                <div id="loginError"></div>
                <form onsubmit="login(event)">
                    <div class="form-group">
                        <label>Nom d'utilisateur</label>
                        <input type="text" id="loginUsername" required>
                    </div>
                    <div class="form-group">
                        <label>Mot de passe</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Se connecter</button>
                </form>
                <p style="text-align: center; margin-top: 1rem;">
                    Pas de compte ? <a href="#" onclick="showSection('register')">S'inscrire</a>
                </p>
            </div>
        </section>

        <!-- Register Section -->
        <section id="register" class="section">
            <div class="auth-form">
                <h2 style="margin-bottom: 1.5rem; text-align: center;">Inscription</h2>
                <div id="registerError"></div>
                <form onsubmit="register(event)">
                    <div class="form-group">
                        <label>Nom d'utilisateur</label>
                        <input type="text" id="registerUsername" required>
                    </div>
                    <div class="form-group">
                        <label>Mot de passe</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Cr√©er un compte</button>
                </form>
                <p style="text-align: center; margin-top: 1rem;">
                    D√©j√† un compte ? <a href="#" onclick="showSection('login')">Se connecter</a>
                </p>
            </div>
        </section>

        <!-- Favorites Section -->
        <section id="favorites" class="section">
            <h2 style="margin-bottom: 1.5rem;">Mes Pok√©mon Favoris</h2>
            <div class="pokemon-grid" id="favoritesGrid"></div>
        </section>

        <!-- Teams Section -->
        <section id="teams" class="section">
            <h2 style="margin-bottom: 1.5rem;">Mes √âquipes Pok√©mon</h2>
            
            <div class="team-form">
                <h3 style="margin-bottom: 1rem;">Cr√©er une nouvelle √©quipe</h3>
                <div id="teamError"></div>
                <form onsubmit="createTeam(event)">
                    <div class="form-group">
                        <label>Nom de l'√©quipe</label>
                        <input type="text" id="teamName" required placeholder="Ex: Mon √©quipe de feu">
                    </div>
                    <button type="submit" class="btn btn-primary">Cr√©er l'√©quipe</button>
                </form>
                <p style="margin-top: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
                    üí° Astuce : Vous pourrez ajouter des Pok√©mon √† vos √©quipes depuis la page Pok√©dex
                </p>
            </div>

            <h3 style="margin: 2rem 0 1rem;">Mes √©quipes</h3>
            <div class="teams-grid" id="teamsGrid"></div>
        </section>

        <!-- Stats Section -->
        <section id="stats" class="section">
            <h2 style="margin-bottom: 1.5rem;">Statistiques Pok√©mon</h2>
            <div id="statsContent"></div>
        </section>
    </div>

    <!-- Modal for Pokemon Details -->
    <div id="pokemonModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modalContent"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
